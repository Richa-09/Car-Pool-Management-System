{%extends 'general/layout.html'%}
{% load static %}
{%block title%}ePool | Ride{%endblock%}


{%block head%} 
<link href="https://fonts.googleapis.com/css?family=Mukta&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{% static 'css/ride.css' %}">
<script type="text/javascript"> (function() { var css = document.createElement('link'); css.href = 'https://use.fontawesome.com/releases/v5.1.0/css/all.css'; css.rel = 'stylesheet'; css.type = 'text/css'; document.getElementsByTagName('head')[0].appendChild(css); })(); </script>

{%endblock%}


{%block content%}
<!--<h3>My Google Maps Demo</h3>
<div id="map"></div>

<div id="floating">
    From: 
    <select id="start">
        <option value="chicago, il">Varanasi</option>
        <option value="st louis, mo">Lucknow</option>
    </select>
    <br>
    To:
    <select id="end">
        <option value="chicago, il">Varanasi</option>
        <option value="st louis, mo">Lucknow</option>
    </select>
</div>

<script>
    // Initialize and add the map
    function initMap() {
      var directionsService = new google.maps.DirectionsService;
      var directionsDisplay = new google.maps.DirectionsRenderer;
      var map = new google.maps.Map(document.getElementById('map'), {zoom: 4, center: {lat: 41.85, lng:-87.65}
    });
      directionsDisplay.setMap(map);

      var onChangeHandler = function(){
          calculateAndDisplayRoute(directionsService, directionsDisplay);
      };
      document.getElementById('start').addEventListener('change', onChangeHandler);
      document.getElementById('end').addEventListener('change', onChangeHandler);
    }


    function calculateAndDisplayRoute(directionsService, directionsDisplay){
        directionsService.route({
            origin: document.getElementById('start').value,
            destination: document.getElementById('end').value,
            travelMode: 'DRIVING'
           },function(response, status){
                  if (status === 'OK'){
                  directionsDisplay.setDirections(response);
              } else {
                  window.alert('Directions request failed due to '+ status);
              }
          });
      }
        </script>
        <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCyXf_FaAZLXRfhgnlcdml7Xnee7bRXgTc&callback=initMap">
        </script>

-->

        <div class="container mt-5 pb-2">
            {%for i in off%}
                <div class="jumbotron mb-3 pb-4 pt-4">
                    <div class="row ml-5">
                        <div class="col-9">
                            <h2 id="fromto">{{i.destination1}}  <i class="fas fa-arrow-circle-right"></i>  {{i.destination2}}</h2>
                            <br>
                            <span class="time mt-5"><i class="far fa-clock"></i>  {{i.time}} </span>
                            <br>
                            <span class="time"> <i class="fas fa-calendar-alt"></i>  {{i.date}}</span>
                            <br>
                            <span id="model"><i class="fas fa-car"></i> {{i.carModel}}</span>
                            <br>
                            <span class="time"><i class="far fa-user"></i>  {{i.name}}</span>
                        </div>
                        <div class="col-3">
                            <span id="cost"><i class="fas fa-rupee-sign"></i> {{i.cost}} <span id="cost2">/person</span></span>
                            <br>
                            <span class="time mt-5">{{i.seatsAvailable}} <span id="cost2">seat{%if i.seatsAvailable is not 1%}s{%endif%} available</span></span>
                            <br><br>
                            <button id="offerbtn" class="btn btn-info pb-1" style="font-size: 30px; margin-bottom: 20px;"><a href="{% url 'rideinfo_page' k=i.id%}">Request</a></button>
                        </div>
                    </div>                    
                    
                </div>
            <br>
        {%endfor%}
        </div>
{%endblock%}